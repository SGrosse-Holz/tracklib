
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>tracklib.util &#8212; tracklib 0.1 documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Trajectory.meta-info fields used by tracklib" href="traj_meta_fields.html" />
    <link rel="prev" title="tracklib.models" href="tracklib.models.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="traj_meta_fields.html" title="Trajectory.meta-info fields used by tracklib"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tracklib.models.html" title="tracklib.models"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">tracklib 0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="tracklib.html" accesskey="U">tracklib</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tracklib-util">
<h1>tracklib.util<a class="headerlink" href="#tracklib-util" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#module-tracklib.util.mcmc" id="id1">tracklib.util.mcmc</a></p></li>
<li><p><a class="reference internal" href="#module-tracklib.util.parallel" id="id2">tracklib.util.parallel</a></p></li>
<li><p><a class="reference internal" href="#module-tracklib.util.plotting" id="id3">tracklib.util.plotting</a></p></li>
<li><p><a class="reference internal" href="#module-tracklib.util.sweep" id="id4">tracklib.util.sweep</a></p></li>
<li><p><a class="reference internal" href="#module-tracklib.util.util" id="id5">tracklib.util.util</a></p></li>
</ul>
</div>
<div class="section" id="module-tracklib.util.mcmc">
<span id="tracklib-util-mcmc"></span><h2><a class="toc-backref" href="#id1">tracklib.util.mcmc</a><a class="headerlink" href="#module-tracklib.util.mcmc" title="Permalink to this headline">¶</a></h2>
<p>A small module for running MCMC sampling. It provides the abstract base class
<a class="reference internal" href="#tracklib.util.mcmc.Sampler" title="tracklib.util.mcmc.Sampler"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a> that can be subclassed for concrete sampling schemes.</p>
<dl class="class">
<dt id="tracklib.util.mcmc.MCMCRun">
<em class="property">class </em><code class="sig-prename descclassname">tracklib.util.mcmc.</code><code class="sig-name descname">MCMCRun</code><span class="sig-paren">(</span><em class="sig-param">logLs=None</em>, <em class="sig-param">samples=None</em><span class="sig-paren">)</span><a class="headerlink" href="#tracklib.util.mcmc.MCMCRun" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The results of an MCMC run</p>
<dl class="attribute">
<dt id="tracklib.util.mcmc.MCMCRun.logLs">
<code class="sig-name descname">logLs</code><a class="headerlink" href="#tracklib.util.mcmc.MCMCRun.logLs" title="Permalink to this definition">¶</a></dt>
<dd><p>the likelihoods from the run</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>np.array(dtype=float)</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="tracklib.util.mcmc.MCMCRun.samples">
<code class="sig-name descname">samples</code><a class="headerlink" href="#tracklib.util.mcmc.MCMCRun.samples" title="Permalink to this definition">¶</a></dt>
<dd><p>the actual MCMC sample</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list of &lt;sample data type&gt;)</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Notes</p>
<p>The list of samples is not automatically copied upon initialization.</p>
<dl class="method">
<dt id="tracklib.util.mcmc.MCMCRun.logLs_trunc">
<code class="sig-name descname">logLs_trunc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tracklib.util.mcmc.MCMCRun.logLs_trunc" title="Permalink to this definition">¶</a></dt>
<dd><p>Give only the likelihoods associated with the samples</p>
<p><a class="reference internal" href="#tracklib.util.mcmc.Sampler.run" title="tracklib.util.mcmc.Sampler.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Sampler.run</span></code></a> returns likelihoods starting at the first iteration, but
samples only after a given burn-in period. This function cuts this
initial overhang from the likelihood array</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>(len(samples),) np.ndarray</em></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tracklib.util.mcmc.MCMCRun.best_sample_logL">
<code class="sig-name descname">best_sample_logL</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tracklib.util.mcmc.MCMCRun.best_sample_logL" title="Permalink to this definition">¶</a></dt>
<dd><p>Give the best sample (and log-likelihood)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>sample</strong> (<em>&lt;sample data type&gt;</em>) – the maximum likelihood estimate</p></li>
<li><p><strong>logL</strong> (<em>float</em>) – the maximum likelihood value</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tracklib.util.mcmc.MCMCRun.acceptance_rate">
<code class="sig-name descname">acceptance_rate</code><span class="sig-paren">(</span><em class="sig-param">criterion='sample_identity'</em>, <em class="sig-param">comp_fun=None</em><span class="sig-paren">)</span><a class="headerlink" href="#tracklib.util.mcmc.MCMCRun.acceptance_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate fraction of accepted moves</p>
<p>We can see whether a move was accepted or rejected by checking whether
the samples are actually different. There are three different ways to
do so: syntactically correct would be sample comparison (using <code class="docutils literal notranslate"><span class="pre">==</span></code>).
However, since samples have a user-defined data type, we do not
necessarily have the == operator defined. For mutable objects we can
exploit that they would not be copied for an unaccepted step, i.e. we
can use identity check (<code class="docutils literal notranslate"><span class="pre">is</span></code>). As a last resort, we can use the
likelihood as a proxy: it is very unlikeliy that we did a move where
the likelihood remained exactly the same.</p>
<p>Alternatively, you can provide a comparison function
<code class="docutils literal notranslate"><span class="pre">comp_fun(sample0,</span> <span class="pre">sample1)-&gt;bool</span></code> that provides the comparison. This
overrides the <code class="xref any docutils literal notranslate"><span class="pre">criterion</span></code> setting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>criterion</strong> (<em>{'sample_equality'</em><em>, </em><em>'sample_identity'</em><em>, </em><em>'likelihood_equality'}</em>) – which method to use to determine whether a step was accepted or
rejected.</p></li>
<li><p><strong>comp_fun</strong> (<em>callable</em><em>, </em><em>optional</em>) – should return <code class="docutils literal notranslate"><span class="pre">True</span></code> if the two arguments compare equal,
<code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>float</em> – the calculated acceptance rate</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tracklib.util.mcmc.MCMCRun.evaluate">
<code class="sig-name descname">evaluate</code><span class="sig-paren">(</span><em class="sig-param">fun</em><span class="sig-paren">)</span><a class="headerlink" href="#tracklib.util.mcmc.MCMCRun.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate a function on all samples</p>
<p>This exploits that (if the sample data type is e.g. a user-defined
class) many samples will actually be identical and we have to evaluate
the function significantly fewer than <code class="docutils literal notranslate"><span class="pre">len(samples)</span></code> times.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fun</strong> (callable of signature <code class="docutils literal notranslate"><span class="pre">fun(sample)</span> <span class="pre">--&gt;</span> <span class="pre">object</span></code>) – the function to evaluate. It should expect a single sample as input
and return something.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>list</em> – a list of output values, in the order of <a class="reference internal" href="#tracklib.util.mcmc.MCMCRun.samples" title="tracklib.util.mcmc.MCMCRun.samples"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">samples</span></code></a>.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This function is supposed to decrease computational cost. It is usually
quicker however, to use a vectorized function <code class="docutils literal notranslate"><span class="pre">fun</span></code> instead.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tracklib.util.mcmc.Sampler">
<em class="property">class </em><code class="sig-prename descclassname">tracklib.util.mcmc.</code><code class="sig-name descname">Sampler</code><a class="headerlink" href="#tracklib.util.mcmc.Sampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Abstract base class for MCMC sampling</p>
<p>To implement a sampling scheme, subclass this and override</p>
<ul class="simple">
<li><p><a class="reference internal" href="#tracklib.util.mcmc.Sampler.propose_update" title="tracklib.util.mcmc.Sampler.propose_update"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">propose_update</span></code></a></p></li>
<li><p><a class="reference internal" href="#tracklib.util.mcmc.Sampler.logL" title="tracklib.util.mcmc.Sampler.logL"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">logL</span></code></a></p></li>
<li><p><a class="reference internal" href="#tracklib.util.mcmc.Sampler.callback_logging" title="tracklib.util.mcmc.Sampler.callback_logging"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">callback_logging</span></code></a> (optional)</p></li>
<li><p><a class="reference internal" href="#tracklib.util.mcmc.Sampler.callback_stopping" title="tracklib.util.mcmc.Sampler.callback_stopping"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">callback_stopping</span></code></a> (optional)</p></li>
</ul>
<p>See their documentations in this base class for more details.</p>
<p>The above methods take an argument <code class="xref any docutils literal notranslate"><span class="pre">params</span></code> that is supposed to represent
the parameters of the model. The structure of this representation (e.g. a
list of parameters, a <code class="xref any docutils literal notranslate"><span class="pre">np.ndarray</span></code>, or a custom class) is completely up to
the user. Since all explicit handling of the parameters happens in the
<a class="reference internal" href="#tracklib.util.mcmc.Sampler.propose_update" title="tracklib.util.mcmc.Sampler.propose_update"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">propose_update</span></code></a> and <a class="reference internal" href="#tracklib.util.mcmc.Sampler.logL" title="tracklib.util.mcmc.Sampler.logL"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">logL</span></code></a> methods, the code in this base class is
completely independent from the parameterization.</p>
<dl class="attribute">
<dt id="tracklib.util.mcmc.Sampler.config">
<code class="sig-name descname">config</code><a class="headerlink" href="#tracklib.util.mcmc.Sampler.config" title="Permalink to this definition">¶</a></dt>
<dd><p>some configuration values. See <a class="reference internal" href="#tracklib.util.mcmc.Sampler.configure" title="tracklib.util.mcmc.Sampler.configure"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">configure</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">... </span><span class="kn">import</span> <span class="nn">scipy.stats</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">normMCMC</span><span class="p">(</span><span class="n">Sampler</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stepsize</span><span class="o">=</span><span class="mf">0.1</span><span class="p">):</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">stepsize</span> <span class="o">=</span> <span class="n">stepsize</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">propose_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">current_value</span><span class="p">):</span>
<span class="gp">... </span>        <span class="n">proposed_value</span> <span class="o">=</span> <span class="n">current_value</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">stepsize</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">logp_forward</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.5</span><span class="o">*</span><span class="p">(</span><span class="n">proposed_value</span> <span class="o">-</span> <span class="n">current_value</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">stepsize</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mf">0.5</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">stepsize</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">logp_backward</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.5</span><span class="o">*</span><span class="p">(</span><span class="n">current_value</span> <span class="o">-</span> <span class="n">proposed_value</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">stepsize</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mf">0.5</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">stepsize</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">proposed_value</span><span class="p">,</span> <span class="n">logp_forward</span><span class="p">,</span> <span class="n">logp_backward</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">logL</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="o">-</span><span class="mf">0.5</span><span class="o">*</span><span class="n">value</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mf">0.5</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">callback_logging</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">current_value</span><span class="p">,</span> <span class="n">best_value</span><span class="p">):</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Current value: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">current_value</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mc</span> <span class="o">=</span> <span class="n">normMCMC</span><span class="p">()</span>
<span class="gp">... </span><span class="n">mc</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">iterations</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">burn_in</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">log_every</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">show_progress</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">... </span><span class="n">logL</span><span class="p">,</span> <span class="n">vals</span> <span class="o">=</span> <span class="n">mc</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="tracklib.util.mcmc.Sampler.propose_update">
<em class="property">abstract </em><code class="sig-name descname">propose_update</code><span class="sig-paren">(</span><em class="sig-param">params</em><span class="sig-paren">)</span><a class="headerlink" href="#tracklib.util.mcmc.Sampler.propose_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Propose an update step.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> (<em>&lt;user-specified parameter structure&gt;</em>) – the current parameters</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>proposed_values</strong> (<em>&lt;user-specified parameter structure&gt;</em>) – the proposed new parameters</p></li>
<li><p><strong>logp_forward</strong> (<em>float</em>) – (log of the) probability of proposing these values from the current
ones</p></li>
<li><p><strong>logp_backward</strong> (<em>float</em>) – (log of the) probability of proposing the current values from the
proposed ones</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#tracklib.util.mcmc.Sampler.logL" title="tracklib.util.mcmc.Sampler.logL"><code class="xref py py-meth docutils literal notranslate"><span class="pre">logL()</span></code></a>, <a class="reference internal" href="#tracklib.util.mcmc.Sampler.callback_logging" title="tracklib.util.mcmc.Sampler.callback_logging"><code class="xref py py-meth docutils literal notranslate"><span class="pre">callback_logging()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="tracklib.util.mcmc.Sampler.logL">
<em class="property">abstract </em><code class="sig-name descname">logL</code><span class="sig-paren">(</span><em class="sig-param">params</em><span class="sig-paren">)</span><a class="headerlink" href="#tracklib.util.mcmc.Sampler.logL" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate log-likelihood of the given parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> (<em>&lt;user-specified parameter structure&gt;</em>) – the parameters to use</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>float</em> – the log-likelihood for the given parameters.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#tracklib.util.mcmc.Sampler.propose_update" title="tracklib.util.mcmc.Sampler.propose_update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">propose_update()</span></code></a>, <a class="reference internal" href="#tracklib.util.mcmc.Sampler.callback_logging" title="tracklib.util.mcmc.Sampler.callback_logging"><code class="xref py py-meth docutils literal notranslate"><span class="pre">callback_logging()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="tracklib.util.mcmc.Sampler.callback_logging">
<code class="sig-name descname">callback_logging</code><span class="sig-paren">(</span><em class="sig-param">current_params</em>, <em class="sig-param">best_params</em><span class="sig-paren">)</span><a class="headerlink" href="#tracklib.util.mcmc.Sampler.callback_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback upon logging.</p>
<p>This function will be called whenever a status line is printed. It can
thus be used to provide additional information about where the sampler
is, or how the current values compare to the best ones found so far,
etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>current_params</strong> (<em>&lt;user-specified parameter structure&gt;</em>) – the current parameter set.</p></li>
<li><p><strong>best_params</strong> (<em>&lt;user-specified parameter structure&gt;</em>) – the best (i.e. highest likelihood) parameter set the sampler has
seen so far.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#tracklib.util.mcmc.Sampler.propose_update" title="tracklib.util.mcmc.Sampler.propose_update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">propose_update()</span></code></a>, <a class="reference internal" href="#tracklib.util.mcmc.Sampler.logL" title="tracklib.util.mcmc.Sampler.logL"><code class="xref py py-meth docutils literal notranslate"><span class="pre">logL()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="tracklib.util.mcmc.Sampler.callback_stopping">
<code class="sig-name descname">callback_stopping</code><span class="sig-paren">(</span><em class="sig-param">myrun</em><span class="sig-paren">)</span><a class="headerlink" href="#tracklib.util.mcmc.Sampler.callback_stopping" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback to enable early stopping</p>
<p>This function will be called at well-defined intervals to check whether
sampling should abort. Judgement is to be made based on the data so
far, which is handed over as the <code class="xref any docutils literal notranslate"><span class="pre">myrun</span></code> argument. This is an
<a class="reference internal" href="#tracklib.util.mcmc.MCMCRun" title="tracklib.util.mcmc.MCMCRun"><code class="xref any py py-class docutils literal notranslate"><span class="pre">MCMCRun</span></code></a> object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>myrun</strong> (<a class="reference internal" href="tracklib.analysis.neda.html#tracklib.analysis.neda.mcmc.MCMCRun" title="tracklib.analysis.neda.mcmc.MCMCRun"><em>MCMCRun</em></a>) – the data generated so far</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>stop</strong> (<em>bool</em>) – should be <code class="docutils literal notranslate"><span class="pre">True</span></code> if the sampling is to stop, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tracklib.util.mcmc.Sampler.configure">
<code class="sig-name descname">configure</code><span class="sig-paren">(</span><em class="sig-param">iterations=1</em>, <em class="sig-param">burn_in=0</em>, <em class="sig-param">log_every=-1</em>, <em class="sig-param">check_stopping_every=-1</em>, <em class="sig-param">show_progress=False</em><span class="sig-paren">)</span><a class="headerlink" href="#tracklib.util.mcmc.Sampler.configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the configuration of the sampler.</p>
<p>Note that after calling this function once, you can also access single
configuration entries via the attribute <a class="reference internal" href="#tracklib.util.mcmc.Sampler.config" title="tracklib.util.mcmc.Sampler.config"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">config</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iterations</strong> (<em>int</em>) – how many MCMC iterations to run total</p></li>
<li><p><strong>burn_in</strong> (<em>int</em>) – how many steps to discard at the beginning</p></li>
<li><p><strong>log_every</strong> (<em>int</em>) – print a status line every … steps. Set to <code class="docutils literal notranslate"><span class="pre">-1</span></code> (default) to
disable status lines.</p></li>
<li><p><strong>check_stopping_every</strong> (<em>int</em>) – how often to call the <a class="reference internal" href="#tracklib.util.mcmc.Sampler.callback_stopping" title="tracklib.util.mcmc.Sampler.callback_stopping"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">callback_stopping</span></code></a>. Set to <code class="docutils literal notranslate"><span class="pre">-1</span></code> (default)
to never check.</p></li>
<li><p><strong>show_progress</strong> (<em>bool</em>) – whether to show a progress bar using <code class="xref any docutils literal notranslate"><span class="pre">tqdm</span></code></p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#tracklib.util.mcmc.Sampler.run" title="tracklib.util.mcmc.Sampler.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="tracklib.util.mcmc.Sampler.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">initial_values</em><span class="sig-paren">)</span><a class="headerlink" href="#tracklib.util.mcmc.Sampler.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the sampling scheme</p>
<p>Remember to run <a class="reference internal" href="#tracklib.util.mcmc.Sampler.configure" title="tracklib.util.mcmc.Sampler.configure"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">configure</span></code></a> before this.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>initial_values</strong> (<em>&lt;user-specified parameter structure&gt;</em>) – the initial values for the sampling scheme</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>MCMCRun</em> – the output data of the run. This is essentially a wrapper class for
an array of likelihoods and the associated samples. Plus some
convenience functions.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#tracklib.util.mcmc.Sampler.configure" title="tracklib.util.mcmc.Sampler.configure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">configure()</span></code></a></p>
</div>
<p class="rubric">Notes</p>
<p>The returned <a class="reference internal" href="#tracklib.util.mcmc.MCMCRun" title="tracklib.util.mcmc.MCMCRun"><code class="xref any py py-class docutils literal notranslate"><span class="pre">MCMCRun</span></code></a> contains likelihoods for all steps starting at
initialization, while the list of sampled parameters starts only after
the burn-in period.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-tracklib.util.parallel">
<span id="tracklib-util-parallel"></span><h2><a class="toc-backref" href="#id2">tracklib.util.parallel</a><a class="headerlink" href="#module-tracklib.util.parallel" title="Permalink to this headline">¶</a></h2>
<p>Parallelization for tracklib functions</p>
<p>Use this as context for parallel-aware functions:
&gt;&gt;&gt; import tracklib as tl
… from multiprocessing import Pool
…
… with Pool(16) as mypool:
…     with tl.util.Parallelize(mypool.imap):
…         # parallel-aware stuff goes here</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">Pool.imap</span></code> is preferred over <code class="docutils literal notranslate"><span class="pre">Pool.map</span></code>, since it gives an
iterator instead of a list, so is the more literal replacement of the built-in
<code class="docutils literal notranslate"><span class="pre">map()</span></code>. If the code in question is okay with this, you can also use
<code class="docutils literal notranslate"><span class="pre">Pool.imap_unordered</span></code>.</p>
<dl class="class">
<dt id="tracklib.util.parallel.Parallelize">
<em class="property">class </em><code class="sig-prename descclassname">tracklib.util.parallel.</code><code class="sig-name descname">Parallelize</code><span class="sig-paren">(</span><em class="sig-param">map_like</em>, <em class="sig-param">map_like_unordered=None</em><span class="sig-paren">)</span><a class="headerlink" href="#tracklib.util.parallel.Parallelize" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

</div>
<div class="section" id="module-tracklib.util.plotting">
<span id="tracklib-util-plotting"></span><h2><a class="toc-backref" href="#id3">tracklib.util.plotting</a><a class="headerlink" href="#module-tracklib.util.plotting" title="Permalink to this headline">¶</a></h2>
<p>Some helper functions for plotting stuff with matplotlib</p>
<dl class="function">
<dt id="tracklib.util.plotting.ellipse_from_cov">
<code class="sig-prename descclassname">tracklib.util.plotting.</code><code class="sig-name descname">ellipse_from_cov</code><span class="sig-paren">(</span><em class="sig-param">pos</em>, <em class="sig-param">cov</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">n_std=1</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#tracklib.util.plotting.ellipse_from_cov" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot an elliptical confidence region</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pos</strong> (<em>np.array</em>) – the center position of the ellipse, i.e. the point estimate</p></li>
<li><p><strong>cov</strong> (<em>np.array</em>) – the corresponding covariance matrix</p></li>
<li><p><strong>n_std</strong> (<em>float</em><em>, </em><em>optional</em>) – a scaling factor</p></li>
<li><p><strong>kwargs</strong> (<em>kwargs</em>) – forwarded to <code class="docutils literal notranslate"><span class="pre">matplotlib.patches.Ellipse</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>matplotlib.patches.Ellipse</em></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-tracklib.util.sweep">
<span id="tracklib-util-sweep"></span><h2><a class="toc-backref" href="#id4">tracklib.util.sweep</a><a class="headerlink" href="#module-tracklib.util.sweep" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="tracklib.util.sweep.Sweeper">
<em class="property">class </em><code class="sig-prename descclassname">tracklib.util.sweep.</code><code class="sig-name descname">Sweeper</code><span class="sig-paren">(</span><em class="sig-param">dataset</em>, <em class="sig-param">fun</em>, <em class="sig-param">copy=True</em>, <em class="sig-param">repeats=1</em>, <em class="sig-param">processes=1</em><span class="sig-paren">)</span><a class="headerlink" href="#tracklib.util.sweep.Sweeper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Facilitates sweeping parameters for dataset-level analyses.</p>
<p>This class mostly just captures a few bits of reusable code around running
<code class="xref any docutils literal notranslate"><span class="pre">multiprocessing.Pool.map</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<a class="reference internal" href="tracklib.html#tracklib.taggedset.TaggedSet" title="tracklib.taggedset.TaggedSet"><code class="xref any py py-class docutils literal notranslate"><span class="pre">TaggedSet</span></code></a> of <a class="reference internal" href="tracklib.html#tracklib.trajectory.Trajectory" title="tracklib.trajectory.Trajectory"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Trajectory</span></code></a>) – the data to operate on</p></li>
<li><p><strong>fun</strong> (callable, of signature <code class="docutils literal notranslate"><span class="pre">result</span> <span class="pre">=</span> <span class="pre">fun(dataset,</span> <span class="pre">*,</span> <span class="pre">...)</span></code>) – the analysis function to apply to the dataset. Should take the dataset
as first argument, and then a number of keyword arguments.</p></li>
<li><p><strong>copy</strong> (<em>bool</em><em>, </em><em>optional</em>) – whether to copy the whole dataset upon initialization. Setting to
<code class="docutils literal notranslate"><span class="pre">False</span></code> means that any processing done on <code class="docutils literal notranslate"><span class="pre">self.dataset</span></code> will
modify the original.</p></li>
<li><p><strong>repeats</strong> (<em>int</em><em>, </em><em>optional</em>) – how many repeats of the whole argument list to run.</p></li>
<li><p><strong>processes</strong> (<em>int</em><em>, </em><em>optional</em>) – how many workers to use.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>There are two ways of applying pre-processing to the data:</p>
<blockquote>
<div><ul>
<li><p>either do the preprocessing upon initialization:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span> <span class="n">sweep</span> <span class="o">=</span> <span class="n">Sweeper</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="o">&lt;</span><span class="n">preproc</span><span class="o">&gt;</span><span class="p">),</span> <span class="n">copy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Note how in this case copying is unnecessary, since <a class="reference internal" href="tracklib.html#tracklib.taggedset.TaggedSet.process" title="tracklib.taggedset.TaggedSet.process"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">TaggedSet.process</span></code></a> already returns a new dataset.</p>
</li>
<li><p>or <a class="reference internal" href="#tracklib.util.sweep.Sweeper.preprocess" title="tracklib.util.sweep.Sweeper.preprocess"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">preprocess</span></code></a> in an individual step.</p></li>
</ul>
</div></blockquote>
<dl class="method">
<dt id="tracklib.util.sweep.Sweeper.preprocess">
<code class="sig-name descname">preprocess</code><span class="sig-paren">(</span><em class="sig-param">preproc</em><span class="sig-paren">)</span><a class="headerlink" href="#tracklib.util.sweep.Sweeper.preprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>Run some preprocessing on the data set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>preproc</strong> (callable, with signature <code class="docutils literal notranslate"><span class="pre">traj</span> <span class="pre">=</span> <span class="pre">preproc(traj)</span></code>) – <p>the function to use for preprocessing. Will be applied to every
trajectory individually via <a class="reference internal" href="tracklib.html#tracklib.taggedset.TaggedSet.apply" title="tracklib.taggedset.TaggedSet.apply"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">TaggedSet.apply()</span></code></a></p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">lambda</span> <span class="n">traj</span> <span class="p">:</span> <span class="n">traj</span><span class="o">.</span><span class="n">relative</span><span class="p">()</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span> <span class="c1"># would give absolute distance for two-locus trajectory</span>
<span class="gp">... </span><span class="k">lambda</span> <span class="n">traj</span> <span class="p">:</span> <span class="n">traj</span><span class="o">.</span><span class="n">relative</span><span class="p">()</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span> <span class="c1"># would give absolute displacements</span>
</pre></div>
</div>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>As of now, this function literally only calls
<code class="docutils literal notranslate"><span class="pre">self.dataset.apply(preproc)</span></code>.  It serves more as a reminder that
preprocessing might be necessary.</p>
</dd></dl>

<dl class="method">
<dt id="tracklib.util.sweep.Sweeper.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">kwargdict</em><span class="sig-paren">)</span><a class="headerlink" href="#tracklib.util.sweep.Sweeper.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the sweep.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kwargdict</strong> (<em>dict</em><em> or </em><em>list of dict</em>) – <p>a dict of keyword arguments to use in the calls to <code class="xref any docutils literal notranslate"><span class="pre">fun</span></code>. There are
two modes:</p>
<blockquote>
<div><ul class="simple">
<li><p>give a dict with entries for each keyword. In this case, if any
entry is a list, it will be sweeped through, using the outer
product of multiple arguments (i.e. if the dict reads <code class="docutils literal notranslate"><span class="pre">{'a'</span> <span class="pre">:</span>
<span class="pre">[1,</span> <span class="pre">2],</span> <span class="pre">'b'</span> <span class="pre">:</span> <span class="pre">[3,</span> <span class="pre">4]}</span></code>, the sweep will run through <code class="docutils literal notranslate"><span class="pre">(1,</span> <span class="pre">3),</span>
<span class="pre">(1,</span> <span class="pre">4),</span> <span class="pre">(2,</span> <span class="pre">3),</span> <span class="pre">(2,</span> <span class="pre">4)</span></code>). Note that if any argument to <code class="xref any docutils literal notranslate"><span class="pre">fun</span></code>
should actually be a list, you have to wrap in into another list
to avoid sweeping: <code class="docutils literal notranslate"><span class="pre">{'list_kwarg'</span> <span class="pre">:</span> <span class="pre">[[1,</span> <span class="pre">2,</span> <span class="pre">3]]}</span></code>.</p></li>
<li><p>give a list of dicts. This can be used for sweeps that are not
the outer product of argument lists (e.g., contrasted with the
example above, just running over <code class="docutils literal notranslate"><span class="pre">(1,</span> <span class="pre">3),</span> <span class="pre">(1,</span> <span class="pre">4),</span> <span class="pre">(2,</span> <span class="pre">3)</span></code>). In
this case, the individual dicts will be passed to <code class="xref any docutils literal notranslate"><span class="pre">fun</span></code> as
arguments with no modification.</p></li>
</ul>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>dict</em> – a dict with the same keys as the input <code class="xref any docutils literal notranslate"><span class="pre">kwargdict</span></code>, plus an
additional one, <code class="xref any docutils literal notranslate"><span class="pre">'result'</span></code>. The entry for each key is a list with
values for each run.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>For reproducible results, set <code class="xref any docutils literal notranslate"><span class="pre">random.seed()</span></code> before calling this
function (not <code class="xref any docutils literal notranslate"><span class="pre">np.random.seed()</span></code>).</p>
<p>If handing this function a list of <code class="xref any docutils literal notranslate"><span class="pre">dict</span></code> with differing key sets (not
recommended!), then the returned <code class="xref any docutils literal notranslate"><span class="pre">dict</span></code> will have the union off all
those as its key set. Entries that do not occur for a specific run are
marked as <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-tracklib.util.util">
<span id="tracklib-util-util"></span><h2><a class="toc-backref" href="#id5">tracklib.util.util</a><a class="headerlink" href="#module-tracklib.util.util" title="Permalink to this headline">¶</a></h2>
<p>Random assortment of useful auxiliary stuff</p>
<dl class="function">
<dt id="tracklib.util.util.distribute_noiselevel">
<code class="sig-prename descclassname">tracklib.util.util.</code><code class="sig-name descname">distribute_noiselevel</code><span class="sig-paren">(</span><em class="sig-param">noise2</em>, <em class="sig-param">pixelsize</em><span class="sig-paren">)</span><a class="headerlink" href="#tracklib.util.util.distribute_noiselevel" title="Permalink to this definition">¶</a></dt>
<dd><p>Get coordinate-wise localization error from scalar noise level</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>noise2</strong> (<em>float</em>) – the total noise level. In terms of coordinate-wise errors this is
<code class="docutils literal notranslate"><span class="pre">noise2</span> <span class="pre">=</span> <span class="pre">Δx^2</span> <span class="pre">+</span> <span class="pre">Δy^2</span> <span class="pre">+</span> <span class="pre">Δz^2</span></code></p></li>
<li><p><strong>pixelsize</strong> (<em>array-like</em>) – linear extension of pixel/voxel in each direction</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>localization_error</strong> (<em>(d,) np.array</em>) – localization error distributed to the coordinate directions,
proportionately to the pixel size, i.e. <code class="docutils literal notranslate"><span class="pre">Δx</span></code>, <code class="docutils literal notranslate"><span class="pre">Δy</span></code>, <code class="docutils literal notranslate"><span class="pre">Δz</span></code> such
that <code class="docutils literal notranslate"><span class="pre">noise2</span> <span class="pre">=</span> <span class="pre">Δx^2</span> <span class="pre">+</span> <span class="pre">Δy^2</span> <span class="pre">+</span> <span class="pre">Δz^2</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tracklib.util.util.log_derivative">
<code class="sig-prename descclassname">tracklib.util.util.</code><code class="sig-name descname">log_derivative</code><span class="sig-paren">(</span><em class="sig-param">y</em>, <em class="sig-param">x=None</em>, <em class="sig-param">resampling_density=2</em><span class="sig-paren">)</span><a class="headerlink" href="#tracklib.util.util.log_derivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate loglog-derivative.</p>
<p>We resample the given data to log-spaced x.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y</strong> (<em>array-like</em>) – the function values whose derivative we are interested in</p></li>
<li><p><strong>x</strong> (<em>array-like</em><em>, </em><em>optional</em>) – the independent variable for the data in y. Will default to
<code class="docutils literal notranslate"><span class="pre">np.arange(len(y))</span></code> (and thus ignore the first data point).</p></li>
<li><p><strong>resampling_density</strong> (<em>float</em><em>, </em><em>optional</em>) – how tight to space the log-resampled points. A value of 1 corresponds
to the spacing between the first two data points, higher values
decrease spacing.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>x</strong> (<em>np.array</em>) – the log-resampled abscissa</p></li>
<li><p><strong>dlog</strong> (<em>np.array</em>) – the calculated log-derivative</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tracklib.util.util.KM_survival">
<code class="sig-prename descclassname">tracklib.util.util.</code><code class="sig-name descname">KM_survival</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">censored</em>, <em class="sig-param">conf=0.95</em>, <em class="sig-param">Tmax=inf</em>, <em class="sig-param">S1at=0</em><span class="sig-paren">)</span><a class="headerlink" href="#tracklib.util.util.KM_survival" title="Permalink to this definition">¶</a></dt>
<dd><p>Kaplan-Meier survival estimator on censored data</p>
<p>This is the standard survival estimator for right-censored data, i.e. data
points that are marked as “censored” enter the estimate as <code class="docutils literal notranslate"><span class="pre">t_true</span> <span class="pre">&gt;</span> <span class="pre">t</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>(</em><em>N</em><em>,</em><em>) </em><em>array-like</em>) – individual survival times</p></li>
<li><p><strong>censored</strong> (<em>(</em><em>N</em><em>,</em><em>) </em><em>array-like</em><em>, </em><em>boolean</em>) – indicate for each data point whether it is right-censored or not.</p></li>
<li><p><strong>conf</strong> (<em>float in</em><em> (</em><em>0</em><em>, </em><em>1</em><em>)</em><em>, </em><em>optional</em>) – the confidence bounds on the survival curve to calculate</p></li>
<li><p><strong>Tmax</strong> (<em>float</em>) – can be used to compute survival only up to some time <code class="docutils literal notranslate"><span class="pre">Tmax</span></code>.</p></li>
<li><p><strong>S1at</strong> (<em>float</em><em>, </em><em>optional</em>) – give a natural lower limit for survival times where S = 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>(T, 4) array</em> – the columns of this array are: t, S(t), l(t), u(t), where l and u are
lower and upper confidence levels respectively.</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">tracklib.util</a><ul>
<li><a class="reference internal" href="#module-tracklib.util.mcmc">tracklib.util.mcmc</a></li>
<li><a class="reference internal" href="#module-tracklib.util.parallel">tracklib.util.parallel</a></li>
<li><a class="reference internal" href="#module-tracklib.util.plotting">tracklib.util.plotting</a></li>
<li><a class="reference internal" href="#module-tracklib.util.sweep">tracklib.util.sweep</a></li>
<li><a class="reference internal" href="#module-tracklib.util.util">tracklib.util.util</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="tracklib.models.html"
                        title="previous chapter">tracklib.models</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="traj_meta_fields.html"
                        title="next chapter"><code class="xref any docutils literal notranslate"><span class="pre">Trajectory.meta</span></code>-info fields used by tracklib</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/tracklib.util.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="traj_meta_fields.html" title="Trajectory.meta-info fields used by tracklib"
             >next</a> |</li>
        <li class="right" >
          <a href="tracklib.models.html" title="tracklib.models"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">tracklib 0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="tracklib.html" >tracklib</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Simon Grosse-Holz.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>
  </body>
</html>